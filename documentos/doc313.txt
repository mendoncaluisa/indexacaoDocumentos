1 
SmartHome - Automação Residencial controlada por página web. SmartHome - Automation Residential Controlled by web page. 
Guilherme de Matos1 
23 de Novembro de 2018 
Resumo 
A procura por soluções de atividades na rotina de residências abriu caminho a automação. Essas automações promovem a melhorar da qualidade de vida de seus residentes e também uma economia de recursos como a energia elétrica. Este trabalho faz um estudo sobre domótica e os componentes necessários para sua aplicação. O sistema proposto é de baixo custo com uma ‘interface’ da página web com fácil utilização, o mesmo trabalha com sensores de controle ligados a um Arduíno para o controle de equipamentos domésticos como lâmpadas e janelas. Espera-se com esse projeto proporcionar mais conforto para o morador e também promover para o mesmo uma maior segurança e diminuição de seus gastos. 
Palavras-chaves: Arduíno; domótica; página web 
Abstract 
The search for solutions of activities in the routine of residences paved the way for automation. These automations promote to improve the quality of life of its residents and also an economy of resources like electricity. This work makes a study about home automation and the necessary components for its application. The proposed system is inexpensive with an easy-to-use web page interface, it works with control sensors connected to an Arduino to control household equipment such as lamps and windows. This project is expected to provide more comfort for the resident and also promote for the same a greater security and decrease of its expenses. 
Keywords: Arduíno; domotics; web page 
1 Introdução 
A Domótica deriva das palavras Domus (casa) e Robótica (controle automatizado de algo), ou seja, a domótica pode ser entendida como a capacidade de poder controlar de forma automatizada uma residência, tornando-a por fim casa inteligente. (ALVES; MOTA, 2003). 
1 Ciência da Computação, 8ª Fase. – Centro Universitário Facvest Unifacvest
2 
No início a domótica focava a área industrial ou militar visando a economia, porém atualmente esse contexto mudou para o uso doméstico, tendo em vista que a sociedade está em uma época com os avanços tecnológicos as pessoas estão sempre em busca de mais conforto e agilidade em suas tarefas. 
Pode-se afirmar que a automação residencial teve um grande aumento nos últimos anos, com ela se pode proporcionar aos moradores melhor qualidade de vida e, ainda, diminuição do consumo de energia elétrica, mais segurança e menor gasto de tempo com tarefas que podem ser automatizadas. 
Muitas vezes por falta de informação ou até mesmo por pensar que vai ser um gasto muito excessivo as pessoas deixam de ter uma casa inteligente. Vejamos o que afirmam Alves e Mota: 
Na realidade, é consensual considerar-se que uma casa inteligente não é mais 
dispendiosa do que uma casa tradicional, levando em conta que o investimento 
em tecnologia orça entre 2% e 10% do valor total da casa, sendo normalmente 
inferior ao custo da cozinha ou da construção de uma pequena e simples 
piscina descoberta.(ALVES; MOTA, 2003, p.13) 
Muitas pessoas que passam várias horas de seu dia fora quando chegam em casa não querem realizar tarefas básicas por estarem cansadas ou querendo passar mais tempo com sua família, assim isso se tornara possível automatizando algumas partes da casa o que vai proporcionar um melhor conforto e segurança a essas pessoas. 
“No Brasil, o percentual pessoas que trabalham mais do que oito horas por dia fica acima da média no mundo. Quase metade dos profissionais brasileiros admite que trabalha até onze horas por dia. No restante do mundo essa média é de 38%.” (DONATO, 2011) . 
O SmartHome tem como objetivo a automação residencial com o uso de sis temas embarcado e um página web para residências de pequeno e médio porte, de modo a proporcionar um melhor conforto e segurança para o usuário. 
Percebe-se que o custo para se ter uma casa inteligente não é muito significativo, o que nos leva a questão de porquê está sendo tão pouca utilizada se proporciona tanto conforto e agilidade em tarefas cotidianas. 
2 Revisão da Literatura 
Nessa parte vai ser abordado conceitos e suas devidas características que são fundamentais para o entendimento do tema proposto.
3 
2.1 Domótica 
Domótica é o termo muitas vezes utilizado para identificar a automação residen cial (home automation), que deriva do neologismo francês “domotique”, que significa literalmente “casa automática”.(PRUDENTE, 2011) 
A eficiência nas atividades da casa, tarefas e utensílios domésticos são al guns dos muitos papéis que a automação residência proporciona, tendo como um foco principal o controle de iluminação, aquecimento, ventilação, ar-condicionado, visando conforto e segurança. 
Então, percebe-se que a domótica pode ser usada em quase todas as atividades que são feitas diariamente dentro de uma moradia normal, porém segundo (ALVES; MOTA, 2003) , nem toda casa se torna inteligente pelo fato de utilizar algum compo nente automatizado, a sua inteligência vem da integração dos componentes. Esses componentes são divididos em 3 principais conjuntos: 
• Sensores: Funcionam sem a necessidade de interferência humana, exemplo: captura de luminosidade e temperatura. 
• Atuadores: Fazem o controle de aparelhos de uma casa, exemplo: ventilador e ar-condicionado. Porem sofrem interferência humana em sua situação. 
• Controladores: São responsáveis pelo controle dos sensores e atuadores. 
Figura 1 – Modelo global de residência inteligente. 
  

BOLZANI, 2004 
Observando a Figura 1 se visualiza uma residência agregando vários compo nentes, onde se tem condição de coletar informações sobre o ambiente e interpretá-las, sendo a mesma um modelo de casa inteligente.
4 
Segundo (PRUDENTE, 2011) a tecnologia domótica proporciona vários benefí cios aos seus usuários, como proporcionar um ambiente mais acolhedor e agradável, tornar a qualidade de vida melhor, ter menos erros de cabeamento elétrico, pois em uma residência domótica o cabeamento elétrico é mais simples, além disso, uma maior segurança, pois com o uso de alguns dispositivos pode-se evitar eventos perigosos. 
2.2 Sistemas Embarcados 
O nome “embarcado” (do inglês Embedded Systems) ocorre pelo fato de muitas vezes esses sistemas serem feitos para funcionar sem a dependência de uma fonte de energia fixa, como uma tomada. Um fator relevante sobre o mesmo é a sua capacidade computacional e sua independência de operação.(CHASE, 2007) 
Oliveira e Andrade compreendem sistemas embarcados como: 
Um sistema embarcado é uma “caixa” com componentes eletrônicos cujo 
entendimento facilita muito o desenvolvimento das aplicações, uma vez que 
todos esses componentes devem ser corretamente configurados para um fun 
cionamento apropria- do sistema embarcado. (OLIVEIRA; ANDRADE, 2006) 
Levando isso em conta, compreende-se sistema embarcado como um equi pamento que é composto por uma unidade de processamento, conhecida como um circuito integrado, onde as informações coletadas do ‘software’ são processadas dentro de sua unidade. 
Figura 2 – Diagrama básico de um sistema embarcado dotado de um microcontrolador monitorando o ambiente. 
  

CHASE,2007
5 
2.2.1 Arduíno 
O Arduíno é uma pequena plataforma planejada sobre um microcontrolador que possui uma conexão USB para possibilitar uma programação por essa porta, essa programação é similar a C/C++. (OLIVEIRA; ZANETTI, 2015) 
A sua linguagem pode ser dividida em quatro partes, estrutura, variáveis, cons tantes e funções, porém mesmo sendo muito parecida com a linguagem C/C++ ela tem suas peculiaridades e diferenças. 
“Os mais tradicionais poderão dizer que o Arduino usa C++, a extensão orientada a objetos da linguagem C. Rigorosamente falando, isso é verdade, mas o Arduino dispõe de somente 1 ou 2Kb de memória.” (MONK, 2015, p. 20) 
Analisando isso, percebe-se que é preciso ter cuidado com a programação que será usada, pois a sua memória não suporta grandes códigos. 
Sua fonte de alimentação pode ser tanto por USB como por uma bateria, ela pode ser controlada diretamente pelo computador ou trabalhar de forma indepen dente, porém quando desconectada ela vai ter a necessidade de ter uma programação. 
“A placa Arduino é muito similar à de um computador de pequeno porte, sendo com- posto por um microcontrolador, memória RAM, armazenamento secundário (memória flash) e clock, entre outras funcionalidades.” (OLIVEIRA; ZANETTI, 2015, p. 18) 
Existem diversas versões de Arduíno disponível no mercado, cada uma delas tem suas diferenças de microcontroladores e características de pinagem, memórias, entre outros. Existem duas versões que atualmente são mais populares, a Uno e a Mega. 
O Arduíno sem a ajuda de outros dispositivos, pouco oferece de interação com o usuário, porém com a combinação do Arduíno e um página web se tem a possibilidade de construir diversos sistemas que possibilitam essa interação.(MONK, 2014). 
2.2.2 Sensores 
Existem diversos sensores que podem ser ligados em um Arduíno para qual for necem várias informações como temperatura, umidade e nível da água. Na automação residencial muitos sensores são necessários para o seu funcionamento, tais como os que seguem citados abaixo: 
• Sensor de Luminosidade;
6 
• Sensor de Temperatura; 
• Sensor de Chuva; 
• Sensor de Gás. 
2.3 Ionic 
O Ionic é um framework de código aberto voltado para a criação de aplicativos multiplataforma, ele utiliza ferramentas WEB para o seu desenvolvimento(HTML, CSS e JavaScript) e ferramentas como Cordova, TypeScript e AngularJS. 
A missão da Ionic é fornecer ferramentas e serviços de código aberto que capacitam as pessoas em todo o mundo a participarem da economia de aplicativos móveis em rápido crescimento. 
Além de possibilitar a programação multiplataforma o ionic oferece serviços de código aberto, isso é um dos grandes motivos pelo qual cada vez mais programadores estão migrando para esse framework. 
2.3.1 WebView 
Com webview se tem a possibilidade de mostrar artigos, vídeos, recursos e sites da web dentro do seu aplicativo. Os usuários podem visualizar essas páginas sem sair do seu aplicativo. 
De modo geral, é recomendado usar webview se precisar carregar conteúdo de terceiros em seu app ionic, sendo muito utilizado para versão lites de apps pelo fato de somente carregar o conteúdo do site, tornando o aplicativo leve. 
2.4 HTML 
O HTML(Hypertext Markup Language) é uma linguagem de marcação utilizada para mostrar páginas web. De modo geral, essas páginas são compostas de textos, imagens, vídeos ou outros recursos por meio de um navegador. 
Os novos desenvolvedores da web tendem a intender o HTML como uma lingua gem de programação porém, no entanto, é uma linguagem de marcação geralmente
7 
usada com outras tecnologias, como o JS (JavaScript),PHP (Hypertext Preprocessor) e CSS (Cascading Style Sheet). 
Atualmente por ter bastantes limitações como controle e ‘design’ essas tecnolo gias têm sido usadas para sanar esse problema. 
2.5 CSS 
O CSS (Cascading Style Sheet) é usado para formatar o layout das páginas web. Geralmente ele é usado para estabelecer estilos e tamanho de textos, tamanhos de ‘divs’, (que são usadas para mudar o estilo em partes específicas da página e posicionar objetos) e outros aspectos de páginas. 
De modo simplificado o CSS ajuda a desenvolver uma página web com uma aparência uniforme e responsiva. Em vez de definir o estilo em cada tag HTML da página, os estilos podem ser definidos apenas uma vez em uma classe CSS. 
2.6 PHP 
O PHP(Hypertext Preprocessor) é uma linguagem de programação versátil gratuita e de código aberto, geralmente usada junto com o HTML. 
Quando um usuário acessa uma página o seu código é executado no servidor e os resultados são enviados para o navegador. Com isso as linhas do código fonte não podem ser vistas, já que elas são executadas no próprio servidor e o que retorna é apenas o resultado do código executado, não consumindo recursos da maquina de quem está visitando a página web. 
2.7 Banco de Dados 
Para poder entender o que é um banco de dados, antes é preciso saber o que é um dado e o que é uma informação. Qualquer a ocorrência ou conhecimento do mundo real, registrado ou não, é considerado uma informação. Dado é a representação dessa informação que foi armazenada ou registrada em algum lugar. 
“Para se ter um banco de dados, são necessários três ingredientes: uma fonte de informação, da qual os dados são derivados; uma interação com o mundo real e um publico que demonstra interesse nos dados contidos no banco.” (ALVES, 2014, p. 17)
8 
As informações são armazenadas e manipuladas pelo SGBD em forma de registros, denominados(metadatos). 
O SGBD é um sistema de gerenciamento de banco de dados com uma cole ção de ferramentas com o intuito de permitir os usuários a definição, construção e manipulação de um próprio banco de dados.(ALVES, 2014) 
• Definição: classificação das categorias de dados, do esqueleto das tabelas e das restrições que devem ser impostas aos dados que vão ser armazenados. 
• Contrução: processo de juntar os dados num meio de armazenamento totalmente controlado pelo SGBD. 
• Manipulação: Operações como atualização do banco de dados. 
2.7.1 MySQL 
MySQL é um sistema de gerenciamento de banco de dados relacional de software livre disponível gratuitamente que utiliza o SQL (Structured Query Language). 
O SQL é uma das linguagens mais populares para inserir, selecionar e gerenciar dados em um banco de dados, é conhecida por ter um processamento rápido e ser flexivel em seu uso, geralmente o MySQL é muito usado em conjunto com o PHP para fazer o controle e conexão com o banco de dados das páginas web. 
2.8 Web Server 
Um servidor web de certa forma trabalha como um modo de armazenar e distribuir dados, ou seja, é deste jeito que as informações são distribuídas. 
As páginas web trocam dados com o servidor onde se tem solicitações e recebimentos de informações entre essas elas e os servidores onde esses dados são transferidos através de um protocolo HTTP (Hypertext Transfer Protocol). 
3 Materiais e Métodos 
Para o desenvolvimento do projeto SmartHome foi usado o Arduíno para o controle de lâmpadas, sensores e motores. A linguagem de programação utilizada no mesmo foi C++ e a IDE para fazer a codificação foi o Visual Studio Code. Na criação da página web foi utilizado PHP para controle de usuário e conexão com o banco
9 
de dados e o bootstrap para estilização deixar o mesmo responsivo para todos os dispositivos. 
O projeto tem as seguintes funções: 
• Fechamento das janelas automáticas quando a chuva for detectada. • Possibilidade de abrir e fechar as janelas. 
• Ligar as luzes externas quando não haver mais luz. 
• Possibilidade de ligar e desligar as luzes internas e externas. 
• Fechamento da válvula e acionamento de alarme quando gás for detectado. • Possibilidade de trancar e destrancar a porta principal. 
Para poder fazer a automatização das janelas, foi usado o Sensor de chuva YL-83. O modulo de controle desse sensor tem 2 pinos que vão se comunicar com a placa do sensor, e no outro lado, 4 pinos de sinal e alimentação: A0 (sinal analógico), D0 (sinal digital), GND e VCC. A alimentação varia de 3.3 à 5 volts. 
O sensor de chuva pode ser trabalhado de duas formas, a primeira é utilizando a saída digital, que simplesmente informa se foi detectada chuva/líquido ou se o sensor está seco. A segunda permite maiores variações é usando saída analógica, onde o valor lido pode ir de 0 a 1023. Para o uso no SmartHome foi escolhido trabalhar com a saída digital. 
Quando o usuário liga a automatização das janelas na pagina web, o sensor vai ficar verificando se foi detectado chuva ou não, quando detectado as janelas são fechadas, caso contrario ficarão abertas. O usuário também tem a possibilidade de abrir ou fechar manualmente ambas as janelas pela pagina. 
Para abrir ou fechar as janelas foi usado o motor de passo 28BYJ-48 com ‘dri ver’ ULN2003. O motor de passo tem torque unipolar, alimentação de 5 volts e redução de 1/64 que pode dar uma volta completa com 4096 passos. O driver ULN2003, permite ao Arduíno controlar motores com correntes até 500mA, ele possui LEDs que indicam o acionamento das bobinas e opera com tensões de 5-12 volts. 
A porta principal pode ser trancada e destrancada pela pagina web, para isso foi usado uma mini trava elétrica solenóide que trabalha com uma alimentação de 12V volts a mesma foi ligada a um rele que quando for acionado destranca a trava elétrica. 
O monitoramento de luz externa foi feito por um sensor de luz LDR que tra balha numa tensão de operação de 3 a 5 volts, como o sensor de chuva ele pode trabalhar tanto com a porta digital como com a analógica, para o projeto optou-se em
10 
trabalhar com a porta digital. Para o sensor realizar o controle das luzes externas, primeiramente tem que ser ligado a automatização no site, com ela ligada quando não for mais detectado luz o rele vai ser acionado e ligar as luzes externas, caso contrario ficarão desligadas. 
Para a iluminação da maquete foi usado 2 lampadas interna e 2 lampadas externas do modelo E14 com 15 watts. 
De modo a monitorar presença de gás no ambiente, o sensor de gás MQ-2 foi utilizado, ele trabalha tensão de operação de 5V, detecta gases como: GLP, metano, propano, butano, hidrogênio, álcool e gás natural. Como os outros sensores, ele também pode trabalhar dos dois modos(digital e analogico), porem dessa vez foi escolhido em trabalhar com a porta analógica, onde foi feito um cálculo que quando a quantidade de gás for maior que 30 % no ambiente, um alarme vai ser ligado e ativar o rele que desliga a válvula solenoide(onde o gás de cozinha seria ligado). Essa válvula trabalha com uma tensão de operação de 12 volts e corrente de 250 mA. 
Para ter acesso ao controle da SmartHome, o usuário deve realizar login na página web, quando for aceito o ‘login’ um ’token’ de 18 caracteres aleatórios vai ser e gerado e salvo no banco de dados, toda vez que um login for feito esse token vai ser gerado. 
As requisições para o controle do arduino foram feitas pelo metodo GET, para a requisição ser valida sempre tem que ser acompanhada do token, o arduino vai fazer uma conexão com o banco de dados e guardar esse token em uma variavel e verificar se a requisição que está sendo feita tem um token válido. 
O WebView no ionic foi feito através da biblioteca ’In App Browser’, a mesma vai carregar a página web dentro do aplicativo de modo que o usuário não vai precisar abrir toda vez o navegador do seu celular quando quiser fazer o controle do SmartHome. 
3.1 Situação Atual 
Atualmente o projeto foi finalizado, através da pagina web o usuário pode abrir e fechar as janelas, ligar e desligar as luzes e ligar a automatização tanto das luzes externas como das janelas, além disso, está fazendo o controle de gás.
11 
Figura 3 – Maquete SmartHome 
  

PRÓPRIO AUTOR 
Na figura 3 pode-se observar a maquete em sua situação final com todos os seus equipamentos necessários instalados. 
Figura 4 – Aba de controle do SmartHome pela pagina web 
  

PRÓPRIO AUTOR 
A figura 4 refere-se a pagina web, ela demostra a aba que serve para fazer o controle dos componentes da maquete SmartHome, se pode observar que a mesma
12 
ficou responsiva, ou seja, todo o tipo de dispositivo vai poder fazer o controle sem problemas. 
Figura 5 – Componentes 
  
PRÓPRIO AUTOR 
A figura 5 mostra todos os componentes instalados, os mesmos foram numera dos para a identificação: 
1) Motor de passo. 
2) Trava elétrica solenóide. 
3) Sensor de Chuva. 
4) Sensor de Luz. 
5) Alarme. 
6) Sensor de Gás. 
4 Conclusão 
Apos o presente estudo pode-se concluir que o SmartHome terá bons resultados e poderá alcançar todas as residências, desde as pequenas até as grandes, com o qual será possível diminuir a mão de obra necessária para cuidar das casas e consequentemente dará mais conforto, comodidade e segurança as pessoas que a habitam.
13 
Portanto, alem de informar o público em geral de todos os benefícios de utilizar a automatização proposta no presente estudo, ao mesmo tempo ele serve de informação para que as pessoas tenham conhecimento de que a automatização é conceituada como de baixo custo. 
Sendo uma alternativa viável para as pessoas que necessitam viajar por curtos e longos períodos, bem como para quem deseja mais conforto, segurança e comodidade em seu lar. 
Referências 
ALVES, José Augusto.; MOTA, José. Casas inteligentes. 1. ed. Portugal: Centro Atlântico, 2003. 
ALVES, William Pereira. Banco de dados. 1. ed. São Paulo: Saraiva, 2014. 
CHASE, Otavio. Sistemas Embarcados. Sociedade Brasileira de Automática: SBA. 2007. Disponível em: <http://www.lyfreitas.com.br/ant/pdf/Embarcados.pdf>. Acesso em: 18 abr. 2018. 
DONATO, Veruska. Quase metade dos brasileiros trabalha até onze horas por dia. 2011. Disponível em: <https://goo.gl/1N3pbX>. Acesso em: 13 abr. 2018. 
MONK, Simon. rojetos com arduino e android: Use seu smartphone ou tablet para controlar o arduino. 2. ed. Porto Alegre: Bookman Companhia Editora Ltda, 2014. 
MONK, Simon. Programação com arduino ii: Passos avançados com sketches. 1. ed. Porto Alegre: Bookman Companhia Editora Ltda, 2015. 
OLIVEIRA, André Schneider de.; ANDRADE, Fernando Souza de. Sistemas embarcados: Hardware e firmware na prática. 2. ed. São Paulo: Saraiva, 2006. 
OLIVEIRA, Cláudio Luís Vieira.; ZANETTI, Humberto Augusto Piovesana. Arduino descomplicado: Como elaborar projetos de eletrônica. 1. ed. São Paulo: Saraiva, 2015. 
PRUDENTE, Francesco. Automação predial e residencial: uma introdução. 1. ed. Rio de Janeiro: LTC, 2011.