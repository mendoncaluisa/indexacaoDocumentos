See discussions, stats, and author profiles for this publication at: https://www.researchgate.net/publication/26514332



VISÃO COMPUTACIONAL APLICACADA À METROLOGIA DIMENSIONAL
AUTOMATIZADA: CONSIDERAÇÕES SOBRE SUA EXATIDÃO

Article in Engevista · January 2005
DOI: 10.22409/engevista.v7i2.164 · Source: DOAJ



CITATIONS                                                                                               READS

10                                                                                                      1,358

3 authors, including:

             Flávio F Feliciano                                                                                   Fabiana Rodrigues Leta
             Instituto Federal Fluminense                                                                         Fluminense Federal University
             8 PUBLICATIONS 138 CITATIONS                                                                         132 PUBLICATIONS 1,104 CITATIONS

                 SEE PROFILE                                                                                         SEE PROFILE




 All content following this page was uploaded by Fabiana Rodrigues Leta on 22 May 2014.

 The user has requested enhancement of the downloaded file.
          VISÃO COMPUTACIONAL APLICACADA À METROLOGIA
                   DIMENSIONAL AUTOMATIZADA:
                CONSIDERAÇÕES SOBRE SUA EXATIDÃO*

                                                                                              Flávio F. Feliciano1
                                                                                                 Igor L. de Souza2
                                                                                                 Fabiana R. Leta3

Resumo: O presente artigo tem por objetivo tratar de algumas técnicas de Visão Computacional, que
podem ser úteis em aplicações de automação. Estas aplicações incluem: medição de peças, inspeção visual,
análise de conformidade, etc. Sistemas de Visão Computacional em medições sem contato são
especialmente úteis quando se têm objetos pequenos ou de geometria complexa, nos quais instrumentos
convencionais não podem ser utilizados. Nestes tipos de situações, em alguns casos é possível utilizar
Máquinas de Medição por Coordenadas (MMC). Além do valor de MMC ser elevado, nem sempre é
simples transportar a peça para máquina. Nestes casos sistemas de inspeção e medição por imagem são
boas alternativas. O sistema proposto tem como principais objetivos minimizar erros inerentes aos
operadores e facilitar processos que requerem instrumentos/equipamentos mais complexos de medição. As
seguintes premissas são feitas: (1) os objetos devem ter pequena espessura; e, (2) blocos padrão são usados
para conversão de unidades. Neste artigo, apresentam-se os algoritmos desenvolvidos para realizar as
medições de objetos retangulares com furos. Os resultados obtidos são comparados com aqueles obtidos
por instrumentos convencionais. São destacadas as dificuldades existentes em sistemas automatizados de
medição por imagem, a exatidão destes e a importância de compreender tais problemas ao usá-los para fins
industriais. O artigo não pretende esgotar o assunto, mas apenas apresentar uma reflexão sobre medições
em imagens.

Palavras chave: Visão Computacional, Metrologia por imagem, Inspeção automatizada, Exatidão.

Abstract: This paper uses some Computer Vision techniques to measure parts and discusses ordinary
difficulties of automated inspection. The parts conformity analysis using a non-contact measurement
system has been used specially to small objects, where accurate instruments are not so simple to be used. In
these cases Coordinate Measuring Machine (CMM) can be used. However, in many times it is impossible
to move the object to the CMM. In this case an image-automated inspection should be a good alternative.
The proposed system consists in a CCD camera positioned in the upper viewer of the object. Some
considerations must be pointed out: (1) the object should be thin, to reduce the height influence in the
measurement; (2) standard gages must be used to convert pixels units to millimeters units. We present the
algorithms developed to make dimensional measurements in industrial parts. A rectangle object with three
holes is analyzed. The obtained results are compared with conventional instruments measurements. We
highlight the difficulties concerned to image automated inspection, discussing accuracy and the
relationships among images and measurements.

Keywords: Computer vision, Metrology by image, Automated inspection, Accuracy.




     1
       Universidade Federal Fluminense, Programa de Pós-Graduação em Engenharia Mecânica
     2
       Universidade Federal Fluminense, Departamento de Engenharia Mecânica
     3
        Universidade Federal Fluminense, Programa de Pós-Graduação em Engenharia Mecânica, Laboratório de
     Metrologia Dimensional e Computacional, fabiana@lmdc.uff.br, Departamento de Engenharia Mecânica
     *
       Este artigo foi baseado no trabalho publicado no 18th International Congress of Mechanical Engineering em 2005.
     ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                                 38
1. INTRODUÇÃO                                         industriais, os sistemas são específicos e
                                                      configurados para cada aplicação. O
    O uso de inspeções automatizadas na
                                                      desenvolvimento de sistemas de visão
indústria vem se tornando cada vez mais uma
                                                      industriais robustos e com a necessária exatidão
solução     interessante    para   análise    de
                                                      torna-se, portanto, um desafio.
conformidade de peças. Em processos de
                                                           Sistemas    de     Visão    Computacional
manufatura devem ser avaliados: tolerâncias
                                                      envolvem técnicas de Processamento Digital de
dimensionais,       tolerâncias    geométricas,
                                                      Imagens. Existem duas abordagens comuns
ajustagem, incertezas e defeitos de fabricação.
                                                      nestes sistemas, a primeira refere-se a
Com a evolução e redução dos preços das
                                                      aplicações de reconhecimento e a segunda a
câmeras digitais, torna-se atrativo investir em
                                                      inspeção automatizada (Fig. 1). Em um sistema
sistemas de Visão Computacional para
                                                      para      reconhecimento    devem-se      extrair
realização de medições e inspeções. Sistemas
                                                      características dos objetos da imagem e usar
deste tipo podem oferecer exatidão e
                                                      algum tipo de inteligência computacional para
repetitividade em medições sem contato,
                                                      proceder a distinção entre os objetos. Neste
especialmente por eliminar aspectos como
                                                      caso não é fundamental obter valores exatos
subjetividade, fadiga, lentidão e custo
                                                      destas características, por outro lado em
associados à inspeção humana.
                                                      sistemas de inspeção a exatidão é fundamenta.
    Em sistemas de medição por imagem
                                                      A Metrologia por imagem consiste no processo
automatizados, o problema principal consiste
                                                      automatizado de inspeção/medição, e engloba
em saber combinar a tecnologia a uma
                                                      conceitos de Metrolgia e de Visão
aplicação específica de uma maneira econômica
                                                      Computacional. É a medição sem contato que
e com a qualidade requerida. Não há um
                                                      utiliza algoritmos computacionais.
sistema que resolva todos os desafios

                                Aproximações

                                                                    PROCESSAMENTO
                                                                       DE DADOS
                Reconhecimento
                                                                      DADOS


                                                        VISÃO                       COMPUTAÇÃO
                                  Medição           COMPUTACIONAL                     GRÁFICA
                                                                      IMAGEM


                   Inspeção                                         PROCESSAMENTO
                                                                      DE IMAGENS



                                 Valores exatos


     Figura 1- Sistema de Visão Computacional para medição (baseada em Gomes e Velho, 1994)

    Neste contexto, podem-se destacar algumas         máquina de medição por coordenadas para
aplicações industriais: identificação de erros de     desenvolver um sistema de inspeção. Eles
peças para controle de qualidade; orientação de       notaram que este tipo de sistema aumenta a
robôs; rastreabilidade de materiais em linhas de      exatidão das MMC. O trabalho de Khotanzad et
produção; medição de peças. Medições por              al. (1994) descreve um sistema para inspeção
imagem possuem grande relevância em muitas            automática de placas de circuito impresso.
aplicações. Luo et al. (2004) combinam Visão          Christy et al. (2005) apresentam as técnicas de
Computacional, interferometria laser e uso de         processamento de imagens utilizadas para


ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                      39
avaliação da qualidade da superfície de pedaços           envolvendo alguns problemas possíveis de
de madeira. Liguori et al (2001) apresentam               existirem em um sistema automático de
uma aplicação em imagens médicas, o objetivo              medição. Discutem-se os cuidados a serem
é medir em imagens de utrasom a espessura de              tomados neste tipo de sistema e a incerteza
artérias. Pode-se observar que o campo de                 envolvida.
aplicação de sistemas de Visão Computacional              2. SISTEMA DE MEDIÇÃO POR
é bem amplo, o que leva à necessidade de se               IMAGEM
estudar a qualidade de seus resultados. Muitos
                                                             2.1. Aspectos gerais
destes trabalhos não consideram a exatidão da
medida através de imagens. De Santo et al.                    Uma imagem é descrita por uma matriz
(2004) apresentam um estudo sobre a avalição              NxM de valores de pixel (picture element)
de incerteza de medições por imagem.                      inteiros positivos, que indica a intensidade de
    Apesar       do     elevado      nível    de          cor em cada posição (i,j) da imagem. Um dado
desenvolvimento tecnológico no campo da                   pixel (p(i,j)) na posição (n,m) possui um valor
manufatura, ainda é difícil obter peças                   numérico que representa o valor da iluminação
perfeitas. Para gerenciar tal limitação torna-se          na área correspondente na imagem.
necessário utilizar tolerâncias dimensionais e                Uma imagem usualmente contém alguns
geométicas que permitam a intercambialidade               objetos. Uma aplicação de visão usualmente
das peças. Em alguns casos a rejeição de peças            envolve computar certas propriedades de um
se dá por uma escolha inadequada do sistema               objeto, e não a imagem como um todo. Para
de medição e não por questões de não                      computar propriedades de um objeto, objetos
conformidade.                                             individuais precisam primeiramente ser
    Neste contexto, este artigo tem por objetivo          identificados como objetos separados; então as
apresentar uma proposta de um sistema de                  propriedades de objetos podem ser computadas.
Visão Computacional voltado para a medição                    Assim, um sistema de medição por imagem
de objetos, visando a análise de sua                      pode ser dividido nas seguintes etapas: (1)
conformidade. Num processo automatizado                   aquisição;      (2)    pré-processamento;      (3)
uma inspeção visual deste tipo de peça pode               segmentação de objetos; (4) reconhecimento
consumir muito tempo e levar erros humanos                dos objetos de interesse; e, (5) medição (Fig. 2).
inadmissíveis, que acarretam prejuízos na linha           Na primeira etapa é necessário o uso de um
de produção.                                              bom sistema de iluminação e câmera com boa
    Para o desenvolvimento do sistema são                 resolução. A aplicação das técnicas de
estudadas      técnicas    de    extração    das          processamento de imagens ocorre nas etapas 2
características dimensionais de objetos em                a 4, com o objetivo de preparar a imagem para
imagem. Apresenta-se um estudo de caso                    a realização das medições.



               Aquisição                  Processamento          Segmentação
                                           de Imagens             de objetos

                                                                                          Medição dos
                                                                                           objetos e
                                                                                           inspeção
                                                               Reconhecimento
                                                                 de objetos




                                     Figura 2 – Visão global do sistema.


ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                           40
    O pré-processamento deve ser realizado          estas características de intensidade determinam
para aprimorar a qualidade da imagem,               o valor do limiar (Ramesh et al, 1995).
reduzindo ruidos inerentes ao processo de               A limiarização distingue os objetos do
aquisição. O processo de segmentação ou             fundo em uma imagem. Em alguns casos torna-
limiarização é utilizado para separar as áreas de   se necessário distinguir mais de um objeto ou
interesse, que consistem nas peças a serem          mais de uma característica no objeto. Neste
medidas. O processo mais simples de                 caso, pode-se optar por operações de detecção
segmentação é chamado de não-contextual,            de vizinhos similares. Em uma imagem digital
pois não leva em consideração as relações entre     representada numa grade quadricular, um pixel
os pixels e regiões (Schalkoff, 1989). Neste        tem uma fronteira comum com quatro pixels e
caso separam-se os objetos do fundo, mudando        compartilha um canto comum com quatro
a cor destes para preta e o do fundo para           pixels adicionais. Diz-se que dois pixels são 4-
branca, tem-se então uma imagem binária, que        vizinhos se eles compartilham uma fronteira
é muito usual nas diversas aplicações de Visão      comum (Marques Filho e Vieira Neto, 1999).
Computacional.                                      Semelhantemente, dois pixels são 8-vizinhos se
                                                    eles compartilham pelo menos um canto. Por
    2.2. Pré-processamento                          exemplo, um pixel no local [i,j] tem 4-vizinhos
                                                    [i+1,j], [i-1,j], [i,j+1] e [i,j-1]. Os 8-vizinhos do
    Para interpretar uma imagem, as variações       pixel incluem os 4-vizinhos mais [i+1,j+1],
nos valores de intensidade devem ser                [i+1,j-1], [i-1,j+1] e [i-1,j-1].
analisadas. Os números de níveis de
quantificação usados mais comumente para                    4-vizinhos               8-vizinhos
representar intensidades de imagens são de 256
diferentes níveis de cinza, o que implica um
maior      esforço     computacional    e    de              [i,j]                     [i,j]
armazenamento. Estas limitações encorajaram o
uso de sistemas de visão binária (uma imagem
binária contém apenas dois níveis de cinza).
                                                    Figura 3. Sistemas de vizinhança de um ponto.
    Necessidades menores de memória e
tempos de execução mais rápidos não são as               É possível distinguir mais de um objeto na
únicas razões para estudar sistemas de visão        mesma imagem apenas considerando o sistema
binária. Muitas técnicas desenvolvidas para         de vizinhança dos pontos, sabe-se que cada
estes sistemas também são aplicáveis para           objeto tem todos os pixels referentes a ele
sistemas de visão que usam imagens de escala        ligados uns aos outros, então ao considerar uma
de cinza. Em geral, sistemas de visão binária       cor de fundo basta observar que se um
são úteis em casos onde o contorno contém           aglomerado de pixels não está conectado a
informação       suficiente    para     permitir    outro por nenhum pixel de mesmo tom estes
reconhecimento de um objeto e onde o                representam objetos diferentes.
ambiente pode ser controlado adequadamente.              Alguns cuidados devem ser tomados ao
Para obter um bom contorno, os objetos devem        utilizar-se esta metodologia. Na Fig.4 nota-se
ser separados facilmente do fundo. O sistema        que utilizando o sistema 4-vizinhos tem-se um
de visão binária geralmente usa um limiar para      ponto que liga o quadrado ao circulo, o que
separar objetos do fundo. O valor apropriado        acarreta que o círculo e o quadrado sejam
deste limiar depende da iluminação e das            considerados um único objeto. Neste caso,
características reflexivas dos objetos. Para a      embora o custo computacional seja maior, é
limiarização ser efetiva na separação objeto-       mais adequado o uso do método 8-vizinhos.
fundo, é necessário que o objeto e o fundo
tenham contraste suficiente e que se saiba os
níveis de intensidade tanto dos objetos quanto
do fundo. Em um esquema de limiarização fixa,


ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                        41
                                                  que pode ser útil em procedimentos posteriores
                                                  (Feliciano et al, 2004).
                                                     Características de circunferências
                                                      Este método foi desenvolvido para que a
       Figura 4 – (a) imagem original, (b)        partir de uma imagem de uma circunferência
 ampliação da área circulada em vermelho, (c)     sejam extraídas as coordenadas do centro e o
         resultado do procedimento.               módulo do raio. Para definir o centro é usado o
                                                  método de determinar centróides (Feliciano et
    Estas metodologias serão úteis no estudo de   al, 2004), que devolve as coordenada do centro
caso apresentado, no qual tem-se uma peça         da circunferência. Então, é feita uma varredura
retangular que apresenta três furos com           dos pontos do contorno e então é calculada a
diâmetros diferentes. Neste caso considerou-se    distância de cada ponto do contorno da
cada furo da peça como objetos distintos e o      circunferência ao centróide e o raio será dado
programa tem de identificar que cada furo não     pela média de todas estas distâncias.
está conectado ao outro ou ao fundo da
imagem.

    2.3. Obtenção de características de objetos
    Na maioria das aplicações industriais, a
localização da câmera e o ambiente são
conhecidos, e o número de objetos diferentes
não é grande. Depois de feita a separação de
dois ou mais objetos dentro de uma imagem,               Figura 5. Exemplo de imperfeição da
pode-se programar o reconhecimento e extração       circunferência o raio médio é definido pela
de medidas de tais objetos.                             média de todos os raios calculados.
    Uma vez localizado o objeto, são
desenvolvidos algoritmos que extraiam                O interessante desta abordagem é que torna-
características do objeto que se encontra na      se possível comparar facilmente as medidas
imagem já limiarizada, ou seja, todos os          obtidas com a tolerância de circularidade
processos descritos a seguir levam em             definida.
consideração que a imagem original tem apenas
                                                     Identificação dos Vértices
dois tons (preto e branco).
    Para identificar o contorno de um objeto,         Os métodos que estão aqui descritos
fundamental para análise da geometria, foram      identificam vértices em objetos que contenham
desenvolvidos dois métodos, um baseia-se em       apenas arestas em linha reta e quando é
identificar quais pixels da imagem fazem          conhecido o número de vértices cujas
fronteira com o fundo, o outro consiste em        coordenadas deseja-se obter. Foram estudados
identificar um pixel que esteja no limite entre   dois métodos. O primeiro baseia-se em
objeto e fundo e a partir dele faz-se uma         identificar os pontos do contorno com maior
varredura no sentido horário deste limite.        distância ao centróide da figura e o segundo faz
    O primeiro é uma solução rápida que exige     uma varredura no contorno e identifica
pouco processamento, porém não permite uma        mudanças bruscas de direção (Feliciano e
identificação      seqüencial,    simplesmente    Souza, 2004).
devolvendo uma imagem em que aparece                  Por limitação de espaço apresenta-se neste
somente o contorno. O segundo faz uma             artigo apenas o segundo método que se mostrou
varredura ponto a ponto e por sua vez utiliza     mais eficiente. Este método tem por base
mais tempo de processamento que o primeiro,       identificar as retas que compõem as arestas da
porém, nele é possível gerar uma tabela com as    figura e com a intercessão das equações de
coordenadas de todos os pontos do contorno, o     retas destas temos um ponto em comum que é


ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                    42
considerado um vértice. Conhecendo todos os        dimensional da peça, considerando ainda as
pontos do contorno divide-se esta quantidade       tolerâncias dimensionais e geométricas da
de pontos em intervalos iguais e é calculada a     mesma. Neste caso considera-se cada furo da
equação da reta e armazenado um ponto de           peça como um objeto distinto, utilizando-se a
cada pequeno intervalo, gerando uma tabela         metodologia       de      vizinhança    descrita
com os pontos e os coeficientes angulares de       previamente. Este resultado pode ser observado
cada intervalo (Leta et al., 2005).                na Fig. 8.
    Tendo definido um ângulo de tolerância             A partir daí os vértices da chapa metálica e
avalia-se a diferença entre cada coeficiente       as circunferências dos furos podem ser
angular e o seu anterior até que se ache a         identificados na figura (Fig. 9).
diferença maior que a tolerância, assim é tirada
a média dos coeficientes angulares e das
distancias x e y dos pontos, gerando assim
informações que definem uma reta. A busca
prossegue até que se encontre uma nova
diferença maior que a tolerância e assim por
diante.
    Cada reta definida corresponde a uma aresta
e então os vértices são definidos na interseção
destas arestas.                                         Figura 7. Foto da Peça em tons de cinza.




        Figura 6. (a) figura original. (b) retas
                  identificadas.

    A partir da obtenção dos vértices do objeto,
torna-se possível extrair comprimentos e avaliar
algumas tolerâncias geométricas.

   2.4.   Obtenção      de     características           Figura 8 Imagem Limiarizada (preto e
dimensionais e geométricas de objetos                 branco) e separação dos objetos por cor.
    O estudo de caso apresentado trabalha com
uma foto em tons de cinza de uma peça
retangular que apresenta três furos com
diâmetros diferentes Fig. 7. O objetivo do
sistema é extrair automaticamente (sem a
intervenção humana) as dimensões da borda da
peça, o diâmetro de cada furo, e a posição do
centro de cada furo em relação ao canto
superior    esquerdo     da     imagem,      e
conseqüentemente a distância do centro de cada         Figura 9. Resultado Final, vértices e centro
furo as arestas laterais da figura. Estas                dos furos apresentam-se marcados.
informações são utilizadas para avaliação



ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                   43
3. RESULTADOS                                           avaliadas por instrumentos convencionais, a
                                                        peça seria descartada por falta de conformidade
    Os resultados foram obtidos em unidades de
                                                        com o projeto. Em sistemas por imagem é
pixels, para conhecer estes valores devemos
                                                        importante avaliar os objetos em posições
primeiramente conhecer o fator de conversão
                                                        rotacionadas, pois o efeito de aliasing pode
pixels x milímetros. Os erros destas medidas
                                                        levar a erros inerentes ao processo de
podem ser vistos em Leta et al. (2005).
                                                        digitalização.
   Para obter o fator de conversão, um bloco
padrão foi fotografado usando a câmera em
diferentes alturas (Tab. 1). Pode-se notar que o          Tabela 1 Altura da câmera, comprimento do
fator de conversão (λ) aumenta conforme a               bloco padrão em pixels e fator de conversão (R-
altura da câmera diminui. Considerando que λ                        bloco padrão -50 mm).
expressa a quantidade de pixels que                                                               Fator de
corresponde a 1mm, a melhor posição de                                          Bloco            conversão
                                                                      Altura
camera é aquela mais próxima ao objeto.                 Imagem                 padrão               λ=
                                                                                                         P
                                                                      (mm)
Para analisar a performance do sistema, uma                                    P (pixel)                 R
peça foi estudada, usando a menor altura                                                        (pixel/mm)
possível de câmera. A peça C foi fotografada                a          100          496             9,92
                                                            b          150          363             7,26
em diferentes posições (Fig. 10). Cabe ressaltar
                                                            c          200          275             5,50
que a peça em estudo foi fabricada sem grande               d          250          228             4,56
preocupação com a exatidão. Por esta razão                  e          300          197             3,94
atribuiram-se valores altos para tolerâncias de
aceitação de conformidade.         Mesmo que

                                         Tabela 2. Especificação.
                                 Peça                             Tolerâncias geométricas e
                                                                     dimensionais (mm)
                                                            Retilineidade      T1                 0,80
                                                                               T2                 0,80
                                                                               T3                 0,80
                                                                               T4                 0,80
                                                            Diâmetro    do     D1         11,00 ± 0,50
                                                            furo               D2         13,00 ± 0,50
                                                                               D3         15,50 ± 0,50
                                                            Circularidade      C1                 0,50
                                                                               C2                 0,50
                                                                               C3                 0,50
                                                            Posição     do     X1         14,50 ± 0,25
                                                            furo               X2         25,00 ± 0,25
                                                                               X3         46,00 ± 0,25
                                                                               Y1         36,00 ± 0,25
                    Largura                  61,00 ± 0,50                      Y2         14,50 ± 0,25
                    Altura                   50,00 ± 0,50                      Y3         29,00 ± 0,25




ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                               44
                                       Tabela 3. Medidas obtidas.

                                                                          Medida
                       Peça                         Característica                    Conformidade
                                                                           (mm)
                                                        Largura            61,70           não
                         C
                                                         Altura            49,77           sim
                                                  Retilineidade      S1     1,30           não
                                                                     S2     0,43           sim
                                                        0,4
                                                                     S3     0,41           sim
                                                                     S4     1,10           não
                                                 Diâmetro do furo    D1    11,76           não
                                                                     D2    13,61           não
                                                                     D3    14,75           não
                                                  Circularidade      C1     0,47           sim
                                                                     C2     0,54           não
                                                                     C3     0,62           não
                                                 Posição do furo     X1    14,26           sim
                                                                     X2    25,22           sim
                                                                     X3    45,42           não
                                                                     Y1    35,87           sim
                Resolução da imagem                                  Y2    14,36           sim
                     800 x 600                                       Y3    28,41           não




                       Figura 10. Digitalização da peça em posições diferentes.

4. ERROS   EM   PROCESSOS                        DE       ser considerados para que estas técnicas
MEDIÇÃO POR IMAGEM                                        automatizadas (sem a intervenção do usuário)
                                                          possam ser utilizadas com sucesso podem ser
     Todas as técnicas aqui apresentadas são
                                                          vistos em Leta et al. (2005) e Feliciano e Souza
utilizadas para trabalharem com objetos
                                                          (2004), como por exemplo: imperfeições de
contidos em imagens digitais. Portanto, as
                                                          superfícies e objetos em que a espessura afeta a
características dimensionais obtidas dos
                                                          medida (Fig. 11).
mesmos são extraídas, em um primeiro
                                                                Sanando-se tais problemas, deve-se
momento, em unidade de pixels. Para uma
                                                          destacar que a solução por um sistema
aplicação real, torna-se necessário o uso de
                                                          automatizado ainda é mais adequada do que
cálculos para convertê-las em unidades reais de
                                                          sistemas por imagem em que o usuário define
medida do SI. Para isso, deve-se conhecer a
                                                          os pontos sobre o objeto a serem considerados
resolução das fotos tiradas. Quanto maior a
                                                          para a medição. Nestes sistemas o usuário é
resolução, mais exatas serão as medidas, já que
                                                          levado a escolher os pontos extremos para
o números de pixels dentro da mesma área é
                                                          medições, e, é a partir deste tipo de escolha que
aumentado. É preciso também saber a distância
                                                          são gerados erros, pois são dependentes da
da câmera ao objeto, ter o devido controle da
                                                          percepção e treinamento do observador.
iluminação do ambiente para evitar problemas
de sombra (Fig. 11). Outros fatores que devem


ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                          45
                                                   5. ANÁLISE DE INCERTEZAS EM
                                                   MEDIÇÕES      POR      VISÃO
                                espessura
                                   depth           COMPUTACIONAL
                                                      Em aplicações de medição, principalmente
           sombra
           shadows
                                                   na realização de calibrações, é necessário um
                                                   estudo criterioso para a expressão da incerteza
            Surface
                                                   de medição. Nesta expressão são tratadas
          Imperfeições
          daimperfections
             superfície
                                                   informações e critérios para avaliação dos
                                                   componentes que influenciam o resultado de
                                                   uma medição. A incerteza expressa,
                                                   resumidamente, o valor provável do erro de
                                                   uma medição.
                                                      Muitas vezes os resultados de uma medição
                                                   devem ser comparados com uma tolerância ou
                                                   limites definidos por alguma especificação ou
                                                   regulamentação. Nestes casos, o conhecimento
                                                   da incerteza da medida permite decidir se o
                                                   resultado obtido está dentro dos limites
        Figura 11. Problemas que podem gerar       preestabelecidos. O cálculo da incerteza
    erros em medidas automáticas por imagens.      depende do conhecimento detalhado da
                                                   natureza do mensurando, do padrão, das
    Observando-se a Fig. 12, há possibilidade      influências externas e do processo de medição.
do usuário escolher como início da medida do          Para este estudo de medição através de
comprimento da peça pontos diferentes, já que      Visão Computacional torna-se importante,
a borda da peça não está claramente definida.      também, obter a incerteza deste processo de
O mesmo ocorre com relação à marcação do           medição, que está inserido no campo da
diâmetro, em especial devido à espessura da        Metrologia Computacional. Para isto foram
peça. O significado de marcar erradamente a        estudados os possíveis fatores que podem
borda para realizar uma medição pode ser           contribuir, de alguma forma, para os erros de
mensurado quando se converte o número de           medição.      Além     disso,    é    necessário,
pixels para a unidade de comprimento. Um           primeiramente, destacar a diferença existente
erro de 1 pixel pode representar o equivalente a   entre a incerteza do tipo A e a incerteza do tipo
um erro de 0,25mm. Sendo que em geral não se       B.
erra em apenas um pixel. Ou seja, torna-se
extremamente importante reduzir o erro do          Incerteza Tipo A
operador a partir de metodologias automáticas         Em Metrologia, pode-se afirmar que a
de medição.                                        melhor estimativa de uma grandeza, que varia
                                         x
                                                   aleatoriamente, é a média aritmética das n
                                                   medidas efetuadas e calculada por:
               (50, 17)        (89,18)
                                                                      x=
                                                                           ∑x   i
                                                                                            (1)
                                                                           n
                                                      Os valores xi diferem entre si por causa de
                                                   efeitos aleatórios que ocorrem durante as
                                                   medições.
                                                      A variância estimada s2(xi) ou o desvio
y
                                                   padrão estimado s(xi) caracterizam a
                                                   variabilidade dos valores medidos xi, isto é, a
    Figura 12. Seleção de pontos de marcação       dispersão dos mesmos em torno do valor
                   duvidosos.                      médio. A expressão da variância é dada por:


ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                   46
               2
                   (x ) =
                 s i
                          ∑ (x   i   − x) 2
                                                    (2)
                                                        e fatores externos diferentes que podem
                                                        contribuir para o erro. Além disto, pode-se
                                    n −1                observar a eficiência deste método e compará-
   A melhor estimativa da variância da média los a outros métodos convencionais.
σ 2 ( x ) , da grandeza a medir, é a variância             Para a avaliação da incerteza Tipo A, é
experimental da média cuja expressão é:                 preciso  que haja um determinado número de
                                                        medições feitas nas mesmas condições
                                  s 2 ( xi )
                      s (x) =
                        2
                                                   (3) externas, uma vez que esta avaliação está
                                      n                 relacionada com a repetitividade do processo.
   O desvio padrão experimental da média Uma alternativa para determiná-la foi
serve para qualificar quanto o valor médio x            fotografar uma mesma peça em orientações
representa a grandeza a ser medida X. Esta diferentes, ou seja, fazendo-a girar no plano em
estimativa é tanto melhor quanto maior for o que se encontra, mantendo fixas a altura da
número de repetições efetuadas na medição.              câmera em relação ao objeto e a resolução da
   A expressão da incerteza Tipo A, mesma. Deve-se lembrar que em aplicações
determinada a partir de n medições de uma reais as peças podem estar em orientações
                                                        diferentes e aleatórias. Da mesma forma que
grandeza X, para υ graus de liberdade e nível
                                                        em um processo de medição com um
de confiança p = 95%, é dada por:
                                                        micrômetro, por exemplo, há uma grande
            i A = I ( x ) = ± t 95% (υ ) x s ( x )  (1) probabilidade de se obter leituras diferentes de
                                                        uma medida ao se repetir o processo algumas
Onde:                                                   vezes.
     • tp(υ) é conhecido como t de student                 Com isto, extrai-se a medição desejada em
           para um nível de confiança p                 cada  foto e calcula-se a incerteza utilizando-se
                                                        a expressão da incerteza Tipo A (1). É preciso
     • υ é o número de graus de liberdade,
                                                        lembrar que quanto maior o número de
           definido como n-1
                                                        fotosmelhor será a estimativa da incerteza do
Incerteza Tipo B                                        processo.
   Incertezas deste tipo são determinadas a                Para a estimativa da incerteza Tipo B, deve-
partir de informações acessórias e externas ao          se levar em conta fatores externos que podem
processo de medição. Estas informações podem            contribuir  para o erro. Foram destacados dois
ser obtidas de resultados de medições similares fatores que podem ser relevantes.
anteriores, experiência ou conhecimento do                 Primeiramente, ao se calibrar uma câmera
comportamento do instrumento, dados do para um processo, ou seja, fixar uma altura de
fabricante, dados fornecidos por certificados de câmera e extrair o fator de conversão por
calibração, referências de manuais de instrução, comparação com a medida real de uma peça de
etc.                                                    referência, há uma incerteza associada a este
   São exemplos deste tipo de incerteza: processo. Se a medida real conhecida da peça
gradiente de temperatura durante a medição; foi obtida por um outro processo de medição, a
afastamento da temperatura ambiente em incerteza associada a este procedimento irá
relação à temperatura de referência de 20 C, contribuir para a incerteza da medição
tipo do indicador: analógico ou digital, computacional. Uma outra possibilidade é
instabilidade na rede elétrica, paralaxe, calibrar a câmera com uma foto de um bloco
incerteza do padrão, instabilidade do padrão, padrão. Neste caso a incerteza associada refere-
erros geométricos, deformações mecânicas, se à incerteza do mesmo. O valor desta
histerese, estabilidade temporal, etc.                  incerteza pode ser obtido no certificado de
   Como mencionado anteriormente, uma calibração que geralmente acompanha o
análise de incertezas para este método de Visão conjunto de blocos padrão, quando o mesmo é
Computacional torna-se necessária, uma vez adquirido.
que cada método de medição possui incertezas


ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                        47
   Uma segunda variável que cabe ser                processo. De posse destes valores, utilizam-se
observada é a temperatura do ambiente de            as equações (1), (2) e (3) para obter,
medição. Pode ser importante avaliar a              respectivamente, os valores da variância,
incerteza associada ao afastamento da               variância da média e da incerteza Ur, devido à
temperatura ambiente da temperatura de              repetibilidade, para cada medida. Os valores
referência. Esta incerteza depende da grandeza      obtidos estão contidos na Tab. 5.
da dimensão do mensurando e do afastamento
da temperatura de medição da temperatura de           Tabela.4 – Variáveis e respectivos tipos de
referência (20°C). Admitindo α como sendo o                           incerteza.
coeficiente de dilatação térmica do mensurando
e ∆t o afastamento da temperatura em relação a                 Variável                  Incerteza
20°C, tem-se que o limite a será: a = α x ∆t x L,     Medida da peça de referência        Tipo B
onde L é o comprimento avaliado. O desvio              Procedimento de medição
                                                                                          Tipo A
padrão para p = 68% será de:                                computacional
                               a                        Temperatura ambiente              Tipo B
                    s ( xi ) =                (2)
                                3                      Porém, para se obter o valor total da
       Geralmente, a tolerância aceitável é de 2    incerteza do processo de medição U, deve-se
C para cima e para baixo. Já em laboratórios de     adicionar a contribuição da incerteza do bloco
calibração ela é menor (cerca de 0,5 C). A          padrão Ub, que é de 0,53 µm, conforme
relevância desta incerteza dependerá da             mencionado anteriormente. Isto é feito através
aplicação e do ambiente. Se for um ambiente         da seguinte relação:
com uma temperatura alta (em uma linha de                        U2 = Ur2 + Ub2           (3)
produção, por exemplo), este fator pode ser
importante. Para um laboratório de calibração,      Onde: U = incerteza de medição
este fator também deverá ser considerado.            Ur = incerteza associada a repetitividade
       A Tabela.4 mostra um resumo das               Ub = incerteza associada ao bloco padrão
variáveis e seus respectivos tipos de incerteza.
   Uma análise criteriosa destas variáveis é               A Tabela mostra os resultados obtidos,
fundamental para ser determinar o que pode ser      para cada medida da peça. Os valores se
feito para diminuir ao máximo a incerteza de        encontram com doze casas decimais, para que
medição por este método. A eficiência de um         se possa notar o efeito do cálculo.
método de medição é tanto maior quanto menor
for esta incerteza. Deve-se, em uma aplicação
real, determinar quais variáveis podem ser
controladas ou modificadas para a melhoria do



                     Tabela 5 – Variância, Variância da média e Incerteza Ur.
                  Medida           Variância Variância da média Incerteza Ur
                Comprimento       0,07044670         0,01408934          0,03916837
                  Largura         0,08572030         0,01714406          0,04766049
                        Furo 1 0,04278650            0,00855730          0,02378929
             Diâmetro Furo 2 0,08264350              0,01652870          0,04594979
                        Furo 3 0,05520750            0,01104150          0,03069537




ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                      48
                                Tabela 6 – Valores das incertezas.
                     Medida                Ur              Ub                U
                  Comprimento       0,039168365200 0,00000053         0,039168365204
                     Largura        0,047660486800 0,00000053         0,047660486803
                             Furo 1 0,023789294000 0,00000053         0,023789294006
                 Diâmetro    Furo 2 0,045949786000 0,00000053         0,045949786003
                             Furo 3 0,030695370000 0,00000053         0,030695370005

   É importante destacar que a diferença             6. CONSIDERAÇÕES FINAIS
encontrada entre os valores de incerteza para            A escolha por técnicas medição automáticas
cada medida (comprimento, largura e                  de por imagem requer uma avaliação detalhada
diâmetros), devido a diferentes variabilidades       sobre os diferentes algoritmos possíveis de
nas medições, se deve pelas irregularidades da       serem implementados, bem como as condições
peça. Portanto, ao se expressar a incerteza de       de iluminação e do objeto a ser medido. Pode-
medição para uma das medidas, deve-se                se notar que para algumas aplicações, pode
associar o valor correspondente a cada uma.          haver mais de uma técnica diferente. Cabe ao
   Massimo et al (2000) descrevem as possíveis       usuário decidir quais técnicas se enquadram de
causas para a variabilidade das medidas na           modo mais satisfatório para sua aplicação.
repetitividade, ou seja, onde as condições são           Este trabalho teve o objetivo de apresentar,
mantidas fixas. Eles mencionam a incerteza           sem esgotar o assunto, algumas técnicas de
proveniente da digitalização de uma imagem.          processamento e análise de imagens focadas em
Para a estimativa da expressão, os autores           Metrologia por imagem. Observa-se que os
definiram a incerteza de um pixel de uma             algoritmos de Visão Computacional têm a
imagem UI (i, j) como o parâmetro que                capacidade de facilitar bastante o trabalho
quantifica as mudanças aleatórias da                 humano na indústria, além de possibilitar a
intensidade I (i, j) do próprio pixel. A incerteza   realização de tarefas de modo mais preciso e
pode ser medida como o desvio padrão σI (i, j)       eficaz, aumentando consideravelmente a
de uma série de N valores de I (i, j), obtidas por   produtividade e a garantia da qualidade dos
N aquisições da imagem em condições                  produtos fabricados. Porém, se utilizada sem a
estacionárias de todos os parâmetros                 avaliação e os cuidados adequados pode
controláveis de influência.                          resultar em medidas inexatas.
   Os autores destacam três causas prováveis
para tal:                                            7. AGRADECIMENTOS
    a) a quantização da imagem, do mundo
        contínuo real para o mundo discreto              Os autores agradecem à FAPERJ pelo apoio
        computacional,         relacionada       à   ao projeto temático intitulado Metrologia
        quantização espacial e de intensidade;       Baseada em Visão Computacional, à CAPES e
    b) a presença de vibrações, que contribuem       ao MEC-SESU pelas bolsas de mestrado e PET
        para a quantização de intensidade;           de um dos autores. Agradecem também ao
    c) a variabilidade intrínseca da origem da       técnico Alain Rangel pelo apoio na realização
        luz (instabilidade, luz tremeluzindo,        do estudo de caso.
        etc.);
      Os autores modelam expressões para a           REFERÊNCIAS
estimativa de tais incertezas, porém estas           Christy, A.G., Senden, T.J. e Evans, P.D.
modelagens não foram consideradas no                 Automated measurement of checks at wood
presente artigo.                                     surfaces. Measurement, Vol. 37, pp. 109–118,
                                                     2005.




ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005                                                    49
De Santo, M., Liguori, C., Paolillo, A. e
Pietrosanto, A. Standard uncertainty evaluation
in image-based measurements. Measurement,
Vol. 36, pp. 347–358, 2004.

Feliciano, F. F. e Souza, I. L. de. Análise de
Conformidade de Peças Através de Técnicas de
Visão Computacional”. Projeto Final de
Graduação. Curso de Engenharia Mecânica.
Orientadora: Fabiana R. Leta UFF. Niterói.
2004.

Gomes, J. e Velho, L. Computação gráfica:
Imagem. IMPA-SBM. 1994.

Khotanzad, A., Banerjee, H., Srinath, M. D. A.,
“Vision System for Inspection of Ball Bonds
and 2-D Profile of Bonding Wires in Integrated
Circuits”, IEEE Transactions on Semiconductor
Manufacturing, Vol. 7, No. 4, pp. 413-422,
1994.

Leta, F. R., Feliciano, F. F. e Souza, I. L. de.
Discussing accuracy in an automatic
measurement system using computer vision
techniques. 18th International Congress of
Mechanical Engineering
ABCM, Novembro, Ouro Preto, MG, 2005.

Liguori, C., Paolillo, A., Pietrosanto, “An
Automatic Measurement System for the
Evaluation     of    Carotid    Intima-Media
Thickness”,      IEEE     Transactions     on
Instrumentation and Measurement, Vol. 50, No.
6, pp. 1684-1691, 2001.

Luo, P. F., Pan, S. P., Chu, T. C., “Application
of computer vision and laser interferometer to
the inspection of line scale”, Optics and Lasers
in Engineering, Vol. 42, pp. 563-584, 2004.

Marques Filho, O. e Vieira Neto,H..
“Processamento Digital de Imagens,” Ed.
Brasport, 1999.

Ramesh, J.; Kasturi, R. e Schunk, B.. Machine
Vision. New York, Ed. McGraw-Hill, 1995.




ENGEVISTA, v. 7, n. 2, p. 38-50, dezembro 2005     50


 View publication stats
